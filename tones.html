<!DOCTYPE HTML>
<html>

<head>
  <title>WebAudioAPI Example</title>

  <script src="/lib/riffwave.js"></script>
  <script src="/lib/lib.js"></script>

  <script>
    var dist = lib.make_dist(0.000005, 1000000);
    var audio = new Audio();
    var wave = new RIFFWAVE();
    var data = [];

    wave.header.sampleRate = 44100; // set sample rate to 44KHz
    wave.header.numChannels = 2; // two channels (stereo)


    var i = 0;
    while (i < 1500000) {
      data[i++] = 128 + Math.round(127 * Math.sin(i / (20 + dist.next()))); // left speaker
      //data[i++] = 128 + Math.round(127 * Math.sin(i / 200)); // right speaker
    }

    wave.Make(data); // make the wave file
    audio.src = wave.dataURI; // set audio source
    audio.play(); // we should hear two tones one on each speaker
  </script>
</head>

<body>



</body>

</html>
